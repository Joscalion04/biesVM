$FUN $reverse args:1 parent:$0
LDA 0           ; Cargar la longitud de la lista
LDV 1
SUB             ; Longitud - 1
STO 1           ; Guardar como posición final
LDV 0
STO 2           ; Posición inicial
$loop
LDA 2           ; Cargar posición inicial
LDA 1           ; Cargar posición final
GT
BT $end         ; Si posición inicial >= posición final, terminar
LDA 0           ; Cargar lista
LDA 2
IDX             ; Cargar lista[posición inicial]
STO 3           ; Guardar temporalmente
LDA 0
LDA 1
IDX
STO 4           ; Guardar lista[posición final] temporalmente
LDA 4
LDA 2
STO 0 IDX       ; Asignar lista[posición inicial] = lista[posición final]
LDA 3
LDA 1
STO 0 IDX       ; Asignar lista[posición final] = lista[posición inicial]
LDA 2           ; Incrementar posición inicial
LDV 1
ADD
STO 2
LDA 1           ; Decrementar posición final
LDV 1
SUB
STO 1
BR $loop
$end
LDA 0           ; Cargar la lista invertida
PRN
HLT
$END
